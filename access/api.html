<!DOCTYPE html>
<html>

<head>

    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <link rel="shortcut icon" href="#" />

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>



    <meta charset="utf-8">
    <script type="text/javascript" src="../script/script.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link id="theme" rel="stylesheet" href="../css/stylesheet.css" type="text/css">
    <title>Notícias Recentes</title>
</head>

<body onload="loadPage()">
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">Pontos Recife</h1>
            <p class="lead">Guia Turístico simplificado sobre a cidade do Recife!</p>
        </div>

    </div>
    <ul class="menu">
        <li><a href="../index.html">Home</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a href="aboutUs.html">About Us</a></li>
        <li><a href="contato.html">Contato</a></li>
        <li><a class="active" href="noticias.html">Últimas Notícias</a></li>
        <li><a onclick="trocaTema()" href="#">Aparência</a></li>
    </ul>


    <div id="root"></div>
    <script type="text/babel">
        class App extends React.Component {
            state = {
                descriptionOfTime: []
            }


            componentDidMount() {
                fetch('http://api.openweathermap.org/data/2.5/weather?q=Recife&appid=84e44bb6dc30c867d244898690b769b9')
                    .then(res => res.json())
                    .then(res => {
                        this.setState(({ descriptionOfTime }) => ({
                            descriptionOfTime: [...descriptionOfTime, res]
                        }));
                    })
            }

            render() {
                console.log(this.state.descriptionOfTime)

                return (
                    <div class="shrink">
                        <h1 class="display-4">Wheater with REST</h1>
                        {this.state.descriptionOfTime.map(kb => (
                            <div key={kb.name}>
                                <p><b>City:</b> {kb.name}</p>
                                <p><b>Weather in this moment:</b> {kb.weather[0].description}</p>
                            </div>
                        ))}
                    </div>
                )

            }
        }
        ReactDOM.render(<App />, document.getElementById('root'));

    </script>


</body>

</html>